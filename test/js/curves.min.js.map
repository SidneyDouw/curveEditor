{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0079eb5dd284b7a7b93d","webpack:///./src/js/index.js","webpack:///./src/js/modules/Curve.js","webpack:///./src/js/modules/BezierPoint.js","webpack:///./src/js/modules/Point.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__modules_Curve__","[object Object]","context","interval","cpDist","BezierPoint","__WEBPACK_IMPORTED_MODULE_0__BezierPoint__","canvas","width","pointColor","pointSize","lineColor","lineWidth","points","height","ctx","cw","ch","mouseX","mouseY","events","canvasEvents","createLUT","draw","frame","iMin","iMax","key","xTarget","xCurrent","lookupX","Math","abs","round","lookupY","length","p1","p2","pct","position","x","t","pow","cp2","cp1","y","push","event","func","bind","dist","dragReady","dragCP","draging","_this","addEventListener","evt","bbox","getBoundingClientRect","clientX","left","clientY","top","sqrt","style","cursor","keys","deltaW","deltaH","posX","floor","posY","move","v1x","v1y","v2x","v2y","temp","ondrag","onmousemove","preventDefault","addPoint","onnewpoint","offsetX","offsetY","collapse","ontogglecontrol","splice","onremovepoint","sort","a","b","color","size","setPointStyle","clearRect","strokeStyle","beginPath","moveTo","lineTo","stroke","pP","bezierCurveTo","window","e","keyCode","__WEBPACK_IMPORTED_MODULE_0__Point__","r","collapsed","fillStyle","arc","PI","closePath","fill"],"mappings":"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","file":"curves.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Curve\"] = factory();\n\telse\n\t\troot[\"Curve\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0079eb5dd284b7a7b93d","import Curve from \"./modules/Curve\";\n\nexport default Curve;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/index.js\n// module id = 0\n// module chunks = 0","import BezierPoint from \"./BezierPoint\";\n\nexport default class Curve {\n\n\tconstructor(context, interval, cpDist) {\n\n\t\tthis.BezierPoint = BezierPoint;\n\n\t\tthis.cpDist = cpDist ? cpDist : context.canvas.width * 0.2;\n\n\t\tthis.pointColor = '#f00';\n\t\tthis.pointSize = 4;\n\n\t\tthis.lineColor = '#fff';\n\t\tthis.lineWidth = 1;\n\n\t\tthis.points = [\n\t\t\tnew BezierPoint(0, context.canvas.height, context, this.pointColor, this.pointSize, this.cpDist),\n\t\t\tnew BezierPoint(context.canvas.width, 0, context, this.pointColor, this.pointSize, this.cpDist)\n\t\t];\n\n\t\tthis.ctx = context;\n\t\tthis.cw = context.canvas.width;\n\t\tthis.ch = context.canvas.height;\n\n\t\tthis.mouseX = 0;\n\t\tthis.mouseY = 0;\n\n\t\tthis.events = {};\n\n\t\tthis.interval = interval;\n\n\t\tthis.canvasEvents();\n\t\tthis.createLUT();\n\t\tthis.draw();\n\n\t}\n\n\txGetY(frame) {\n\n\t\tlet tolerance = 0.0001;\n\t\t\n\t\tlet iMin = 0;\n\t\tlet iMax = 5000;\n\t\tlet key = (iMin+iMax)/2;\n\n\t\tlet xTarget = frame/this.interval;\n\t\tlet xCurrent = this.lookupX[key];\n\n\t\tlet i = 0;\n\n\t\twhile (Math.abs(xTarget-xCurrent) > tolerance){\n\t\t\ti++;\n\t\t\t\n\t\t\tif (xCurrent > xTarget) {\n\t\t\t\tiMax = key;\n\t\t\t} else if (xCurrent < xTarget) {\n\t\t\t\tiMin = key;\n\t\t\t}\n\t\t\tkey = Math.round((iMin+iMax)/2);\n\t\t\txCurrent = this.lookupX[key];\n\n\t\t\tif (i > 20) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn this.lookupY[key];\n\n\t}\n\n\tcreateLUT() {\n\t\t\n\t\tthis.lookupX = [];\n\t\tthis.lookupY = [];\n\n\t\t//Percent Based Tesselation\n\t\tfor (let i = 1; i < this.points.length; i++) {\n\t\t\tlet p1 = this.points[i-1];\n\t\t\tlet p2 = this.points[i];\n\t\t\tlet pct = (p2.position.x/this.cw) - (p1.position.x/this.cw);\n\t\t\tfor (let t = 0; t < 1; t+=1/(5000*pct)) {\n\t\t\t\tlet x = (Math.pow((1-t),3)*p1.position.x) + (3*Math.pow((1-t),2)*t*p1.cp2.x) + (3*(1-t)*Math.pow(t,2)*p2.cp1.x) + (Math.pow(t,3)*p2.position.x);\n\t\t\t\tlet y = (Math.pow((1-t),3)*p1.position.y) + (3*Math.pow((1-t),2)*t*p1.cp2.y) + (3*(1-t)*Math.pow(t,2)*p2.cp1.y) + (Math.pow(t,3)*p2.position.y);\n\t\t\t\tthis.lookupX.push(x/this.cw);\n\t\t\t\tthis.lookupY.push(-y/this.ch+1);\n\t\t\t}\n\t\t}\n\n\t}\n\n\ton(event, func) {\n\t\tthis.events['on'+event] = func.bind(this);\n\t}\n\n\tcanvasEvents() {\n\n\t\tlet x,\n\t\t\ty,\n\t\t\tdist,\n\t\t\tdragReady,\n\t\t\tdragCP,\n\t\t\tdraging;\n\n\t\tlet _this = this;\n\t\t\n\t\tthis.ctx.canvas.addEventListener('mousemove', function(evt){\n\n\t\t\tlet bbox = this.getBoundingClientRect();\n\n\t\t\tx = evt.clientX - bbox.left;\n\t\t\ty = evt.clientY - bbox.top;\n\n\t\t\t_this.mouseX = x;\n\t\t\t_this.mouseY = y;\n\n\t\t\tfor (let i = 0; i < _this.points.length; i++) {\n\t\t\t\tlet p = _this.points[i];\n\n\t\t\t\tif (!draging) {\n\n\t\t\t\t\tdist = Math.sqrt((x-p.position.x)*(x-p.position.x) + (y-p.position.y)*(y-p.position.y));\n\t\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t\tdragReady = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdist = Math.sqrt((x-p.cp1.x)*(x-p.cp1.x) + (y-p.cp1.y)*(y-p.cp1.y));\n\t\t\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t\t\tdragReady = i;\n\t\t\t\t\t\t\tdragCP = 'cp1';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdist = Math.sqrt((x-p.cp2.x)*(x-p.cp2.x) + (y-p.cp2.y)*(y-p.cp2.y));\n\t\t\t\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t\t\t\tdragReady = i;\n\t\t\t\t\t\t\t\tdragCP = 'cp2';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.style.cursor = 'initial';\n\t\t\t\t\t\t\t\tdragReady = false;\n\t\t\t\t\t\t\t\tdragCP = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (keys[18]) {\n\t\t\t\tlet deltaW = _this.cw / 20;\n\t\t\t\tlet deltaH = _this.ch/ 10;\n\n\t\t\t\tlet posX = Math.floor((x+deltaW/2) / deltaW);\n\t\t\t\tlet posY = Math.floor((y+deltaH/2) / deltaH);\n\n\t\t\t\tx = deltaW * posX;\n\t\t\t\ty = deltaH * posY;\n\t\t\t}\n\n\t\t\tif (draging) {\n\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t_this.points[dragReady].cp1.x = x;\n\t\t\t\t\t_this.points[dragReady].cp1.y = y;\n\n\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t_this.points[dragReady].cp2.x = x - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t_this.points[dragReady].cp2.y = y - _this.points[dragReady].v1y*2;\n\t\t\t\t\t}\n\t\t\t\t} else if (dragCP == 'cp2') {\n\n\t\t\t\t\t_this.points[dragReady].cp2.x = x;\n\t\t\t\t\t_this.points[dragReady].cp2.y = y;\n\n\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t_this.points[dragReady].cp1.x = x - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t_this.points[dragReady].cp1.y = y - _this.points[dragReady].v2y*2;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t_this.points[dragReady].position.x = x;\n\t\t\t\t\t_this.points[dragReady].position.y = y;\n\n\t\t\t\t\tif (dragReady === 0) {\n\t\t\t\t\t\t_this.points[dragReady].position.x = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (dragReady == _this.points.length-1) {\n\t\t\t\t\t\t_this.points[dragReady].position.x = _this.cw;\n\t\t\t\t\t}\n\n\t\t\t\t\t_this.points[dragReady].cp1.x = _this.points[dragReady].position.x + _this.points[dragReady].v1x;\n\t\t\t\t\t_this.points[dragReady].cp1.y = _this.points[dragReady].position.y + _this.points[dragReady].v1y;\n\t\t\t\t\t_this.points[dragReady].cp2.x = _this.points[dragReady].position.x + _this.points[dragReady].v2x;\n\t\t\t\t\t_this.points[dragReady].cp2.y = _this.points[dragReady].position.y + _this.points[dragReady].v2y;\n\n\t\t\t\t\tlet temp;\n\n\t\t\t\t\tif (_this.points[dragReady-1] && _this.points[dragReady+1]) {\n\t\t\t\t\t\tif (_this.points[dragReady].position.x > _this.points[dragReady+1].position.x) {\n\t\t\t\t\t\t\ttemp = _this.points[dragReady];\n\t\t\t\t\t\t\t_this.points[dragReady] = _this.points[dragReady+1];\n\t\t\t\t\t\t\t_this.points[dragReady+1] = temp;\n\t\t\t\t\t\t\tdragReady++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_this.points[dragReady-1].position.x > _this.points[dragReady].position.x) {\n\t\t\t\t\t\t\ttemp = _this.points[dragReady];\n\t\t\t\t\t\t\t_this.points[dragReady] = _this.points[dragReady-1];\n\t\t\t\t\t\t\t_this.points[dragReady-1] = temp;\n\t\t\t\t\t\t\tdragReady--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t_this.events.ondrag ? _this.events.ondrag() : null;\n\t\t\t\t_this.draw();\n\t\t\t}\n\n\t\t\t_this.events.onmousemove ? _this.events.onmousemove() : null;\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('mousedown', function(evt){\n\t\t\tevt.preventDefault();\n\n\t\t\tif (dragReady || dragReady === 0) {\n\t\t\t\tdraging = true;\n\t\t\t} else {\n\t\t\t\tif (dist > 5) {\n\t\t\t\t\tdragReady = _this.addPoint(x, y);\n\t\t\t\t\tdraging = true;\n\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\t_this.draw();\n\t\t\t\t\t_this.events.onnewpoint ? _this.events.onnewpoint() : null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('mouseup', function(evt){\n\n\t\t\tdraging = false;\n\t\t\tif (dist > 5) {\n\t\t\t\tdragReady = dragCP = false;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < _this.points.length; i++) {\n\t\t\t\tlet p = _this.points[i];\n\t\t\t\tdist = Math.sqrt((x-p.position.x)*(x-p.position.x) + (y-p.position.y)*(y-p.position.y));\n\t\t\t\tif (dist <= _this.pointSize/2+2) {\n\t\t\t\t\tthis.style.cursor = 'pointer';\n\t\t\t\t\tdragReady = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_this.createLUT();\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('mouseleave', function(evt){\n\n\t\t\tif (draging) {\n\t\t\t\tif (evt.offsetX < 0 || evt.offsetX > _this.cw) {\n\t\t\t\t\tif (evt.offsetX < 0) {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = 0 - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = y - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = 0 - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = y - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.x = 0;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = 0 + _this.points[dragReady].v1x;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = 0 + _this.points[dragReady].v2x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = _this.cw;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = _this.cw - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = y - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = _this.cw;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = _this.cw - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = y - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.x = _this.cw;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = _this.cw + _this.points[dragReady].v1x;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = _this.cw + _this.points[dragReady].v2x;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (evt.offsetY < 0 || evt.offsetY > _this.ch) {\n\t\t\t\t\tif (evt.offsetY < 0) {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = x - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = 0 - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = 0;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = x - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = 0 - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.y = 0;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = 0 + _this.points[dragReady].v1y;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = 0 + _this.points[dragReady].v2y;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (dragCP == 'cp1') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = _this.ch;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.x = x - _this.points[dragReady].v1x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = _this.ch - _this.points[dragReady].v1y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (dragCP == 'cp2') {\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = _this.ch;\n\n\t\t\t\t\t\t\t_this.points[dragReady].move();\n\n\t\t\t\t\t\t\tif (!keys[16]) {\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.x = x - _this.points[dragReady].v2x*2;\n\t\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = _this.ch - _this.points[dragReady].v2y*2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.points[dragReady].position.y = _this.ch;\n\t\t\t\t\t\t\t_this.points[dragReady].cp1.y = _this.ch + _this.points[dragReady].v1y;\n\t\t\t\t\t\t\t_this.points[dragReady].cp2.y = _this.ch + _this.points[dragReady].v2y;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_this.draw();\n\t\t\t_this.createLUT();\n\n\t\t\tdraging = dragReady = dragCP = false;\n\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('click', function(evt){\n\t\t\tif (keys[16] && !dragCP) {\n\t\t\t\t_this.points[dragReady].collapse();\n\t\t\t\t_this.draw();\n\t\t\t\t_this.createLUT();\n\t\t\t\t_this.events.ontogglecontrol ? _this.events.ontogglecontrol() : null;\n\t\t\t}\n\t\t});\n\t\tthis.ctx.canvas.addEventListener('dblclick', function(evt){\n\t\t\t_this.points.splice(dragReady, 1);\n\t\t\tdraging = dragReady = dragCP = false;\n\t\t\tdist = 1000;\n\t\t\tthis.style.cursor = 'initial';\n\t\t\t_this.draw();\n\t\t\t_this.createLUT();\n\t\t\t_this.events.onremovepoint ? _this.events.onremovepoint() : null;\n\t\t});\n\n\t}\n\n\taddPoint(x, y) {\n\t\t\n\t\tthis.points.push(new BezierPoint(x, y, this.ctx, this.pointColor, this.pointSize, this.cpDist));\n\n\t\tthis.points.sort(function(a, b){\n\t\t\treturn a.position.x - b.position.x;\n\t\t});\n\n\t\tfor (let i = 0; i < this.points.length; i++) {\n\t\t\tlet p = this.points[i];\n\t\t\tif (x == p.position.x && y == p.position.y) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tsetPointStyle(color, size) {\n\t\t\n\t\tfor (let i = 0; i < this.points.length; i++) {\n\t\t\tthis.points[i].setPointStyle(color, size);\n\t\t\tthis.pointColor = color;\n\t\t\tthis.pointSize = size;\n\t\t}\n\t\tthis.draw();\n\n\t}\n\n\tsetLineStyle(color, width) {\n\t\t\n\t\tthis.lineColor = color;\n\t\tthis.lineWidth = width;\n\t\tthis.draw();\n\n\t}\n\n\tdraw() {\n\t\t\n\t\tthis.ctx.clearRect(0, 0, this.cw, this.ch);\n\t\t\n\t\tthis.ctx.strokeStyle = '#444';\n\t\tthis.ctx.lineWidth = 1;\n\n\t\tfor (let i = 1; i < 10; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo((this.cw/10)*i-0.5, 0);\n\t\t\tthis.ctx.lineTo((this.cw/10)*i-0.5, this.ch);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\t\tfor (let i = 1; i < 5; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo(0, (this.ch/5)*i-0.5);\n\t\t\tthis.ctx.lineTo(this.cw, (this.ch/5)*i-0.5);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\n\t\tthis.ctx.lineWidth = 0.5;\n\t\tfor (let i = 1; i < 20; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo((this.cw/20)*i-0.5, 0);\n\t\t\tthis.ctx.lineTo((this.cw/20)*i-0.5, this.ch);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\t\tfor (let i = 1; i < 10; i++) {\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo(0, (this.ch/10)*i-0.5);\n\t\t\tthis.ctx.lineTo(this.cw, (this.ch/10)*i-0.5);\n\t\t\tthis.ctx.stroke();\n\t\t}\n\n\t\tthis.ctx.strokeStyle = this.lineColor;\n\t\tthis.ctx.lineWidth = this.lineWidth;\n\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(this.points[0].position.x, this.points[0].position.y);\n\t\tfor (let i = 1; i < this.points.length; i++) {\n\t\t\tlet p = this.points[i];\n\t\t\tlet pP = this.points[i-1];\n\t\t\tthis.ctx.bezierCurveTo(pP.cp2.x, pP.cp2.y, p.cp1.x, p.cp1.y, p.position.x, p.position.y);\n\t\t}\n\t\tthis.ctx.stroke();\n\n\t\tfor (let i = 0; i < this.points.length; i++) {\n\t\t\tthis.points[i].draw();\n\t\t}\n\n\t}\n}\n\n\nconst keys = [];\nwindow.addEventListener('keydown', function(e){\n\tkeys[e.keyCode] = true;\n});\nwindow.addEventListener('keyup', function(e){\n\tdelete keys[e.keyCode];\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/Curve.js\n// module id = 1\n// module chunks = 0","import Point from \"./Point\";\n\n\nexport default class BezierPoint {\n\n\tconstructor(x, y, context, color, size, cpDist) {\n\n\t\tthis.cpDist = cpDist;\n\n\t\tthis.color = color;\n\t\tthis.size = size;\n\n\t\tthis.position = new Point(x, y, this.color, this.size, context);\n\t\tthis.cp1 = new Point(x-this.cpDist, y, this.color, this.size, context);\n\t\tthis.cp2 = new Point(x+this.cpDist, y, this.color, this.size, context);\n\n\t\tthis.ctx = context;\n\t\tthis.r = 2;\n\n\t\tthis.collapsed = false;\n\n\t}\n\n\tcollapse() {\n\t\n\t\tif (!this.collapsed) {\n\t\t\tthis.collapsed = true;\n\t\t\tthis.cp1.x = this.cp2.x = this.position.x;\n\t\t\tthis.cp1.y = this.cp2.y = this.position.y;\n\t\t} else {\n\t\t\tthis.collapsed = false;\n\t\t\tthis.cp1.x = this.position.x - this.cpDist;\n\t\t\tthis.cp2.x = this.position.x + this.cpDist;\n\t\t}\n\n\t}\n\n\tmove() {\n\n\t\tif (!this.collapsed) {\n\t\t\tthis.v1x = this.cp1.x - this.position.x;\n\t\t\tthis.v1y = this.cp1.y - this.position.y;\n\t\t\tthis.v2x = this.cp2.x - this.position.x;\n\t\t\tthis.v2y = this.cp2.y - this.position.y;\n\t\t} else {\n\t\t\tthis.v1x = this.v1y = this.v2x = this.v2y = 0;\n\t\t}\n\n\t}\n\n\tsetPointStyle(color, size) {\n\n\t\tthis.position.color = color;\n\t\tthis.cp1.color = color;\n\t\tthis.cp2.color = color;\n\t\tthis.position.r = size/2;\n\t\tthis.cp1.r = size/2;\n\t\tthis.cp2.r = size/2;\n\t}\n\n\tdraw() {\n\n\t\tthis.ctx.lineWidth = 0.2;\n\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(this.position.x, this.position.y);\n\t\tthis.ctx.lineTo(this.cp1.x, this.cp1.y);\n\t\tthis.ctx.stroke();\n\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.moveTo(this.position.x, this.position.y);\n\t\tthis.ctx.lineTo(this.cp2.x, this.cp2.y);\n\t\tthis.ctx.stroke();\n\n\t\tthis.position.draw();\n\t\tthis.cp1.draw();\n\t\tthis.cp2.draw();\n\n\t}\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/BezierPoint.js\n// module id = 2\n// module chunks = 0","export default class Point {\n\n\tconstructor(x, y, color, size, context) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.r = size/2;\n\t\tthis.color = color;\n\t\tthis.ctx = context;\n\n\t}\n\n\tdraw() {\n\n\t\tthis.ctx.fillStyle = this.color;\n\t\tthis.ctx.beginPath();\n\t\tthis.ctx.arc(this.x, this.y, this.r, 0, Math.PI*2, false);\n\t\tthis.ctx.closePath();\n\t\tthis.ctx.fill();\n\n\t}\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/Point.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}